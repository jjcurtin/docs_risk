# Study Messages
Claire Punturieri

Last updated: 9/28/2023

## Communications collection procedure

Participants current location was continuously tracked via GPS and WiFi positioning technology
on individual cell phones and available to the A-CHESS program for the study duration (a total
of three months of mobile monitoring).

At monthly intervals, during follow-up visits <!--is this true-->, participants were asked to
identify whether frequently visited locations (i.e., >XX times per XX) were helpful or
harmful to their recovery and what emotion was associated with the location (i.e., positive,
negative, or mixed).

Moves was used to track data from start of study until MM/DD/YYYY, after which FollowMee was
used to capture participant geolocation data (MM/DD/YYYY until end of study) due to
gaps in data collection.


## Data Files



| Data type    | Level      | Location                                              |
|--------------|------------|-------------------------------------------------------|
| Raw GPS      | Individual | studydata/risk/data_raw/\*\*/\*\*_GPS.gpx             |
| Raw GPS      | Individual | studydata/risk/data_raw/\*\*/\*\*_Locations.xlsx      |
| Raw GPS      | Group      | studydata/risk/data_processed/shared/gps.csv          |
| Raw GPS      | Group      | studydata/risk/data_processed/shared/locations.csv    |
| Enriched GPS | Group      | studydata/risk/data_processed/gps/gps_enriched.csv.xz |




## Data processing

<!--Scripts are, to the best of my ability, in procedural order-->

### Data cleaning and concatenating


|  Name <img width=250/> | Path  <img width=150/> | Function <img width=400/> | Input     <img width=350/>        | Output  <img width=150/>         |
|--------|------|----------|-------------------|------------------|
| cln_gps.Rmd  | shared/scripts_cln/ | creates the analysis gps dataset and conducts EDA | individual gps data files (studydata/risk/data_raw/\*\*/\*\*_GPS.gpx) | gps.csv, gps.rds |
| cln_locations.Rmd | shared/scripts_cln/ | opens the individual raw excel files for frequent locations in the individual subject folders, merges them, and then does EDA | individual location files (studydata/risk/data_raw/\*\*/\*\*_Locations.xlsx) | locations.csv |
| mak_study_dates.Rmd |  gps/mak/ | create list of important study dates | visit_dates.csv, ema_morning.csv, ema_later.csv | study_dates.csv |
|mak_labels_for_windows.Rmd | gps/mak/ | creates lapse labels at 1 hour window duration, 1 day window duration, and 1 week window duration. | lapses.csv, study_dates.csv | labels_1hour.csv(.xz), labels_1day.csv(.xz), labels 1week.csv(.xz) |
| mak_gps_enriched.Rmd | gps/mak/ | aggregates gps files for all subjects and then matches each geolocation to its nearest context | study_dates.csv, locations.csv, gps.csv | study_dates.csv, locations.csv, gps.csv | gps_enriched.csv(.xz) |
| mak_samples.Rmd | gps/mak/ | checks the GPS data and finalizes an overall sample | study_dates.csv, locations.csv, gps_enriched.csv.xz | # subj with satisfactory/missing data, days of missing GPS |

